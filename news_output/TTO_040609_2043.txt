 Tổng_Quan về J2ME ( Phần I )
Hàng_loạt các tính_năng cao_cấp được giới_thiệu như chụp hình số , nghe nhạc và đặc_biệt nhất_là có_thể sử_dụng các chương_trình không phải do nhà_sản_xuất điện_thoại cung_cấp .
Đây có_thể được coi là một cuộc cách_mạng trong lĩnh_vực di_động , nó biến chiếc điện_thoại nhỏ_bé của bạn thành một chiếc máy_tính thu nhỏ , với những chủng_loại điện_thoại này bạn có_thể đọc báo , tiểu_thuyết , tra từ_điển , bản_đồ và nhất_là mang thế_giới giải_trí đến bên_cạnh , những bản_nhạc hay , những games hay sẽ luôn sẵn_sàng mỗi khi bạn cần đến .
Đặc_biệt hơn , với sự hỗ_trợ của nền_tảng phần_mềm sử_dụng cho thiết_bị di_động , nhà_thiết_kế còn có_thể biến những đồ_vật dùng trong gia_đình thành những “ cỗ máy biết suy_nghĩ ” như lò_vi_sóng , hộp điều_khiển ti - vi , hệ_thống xem DVD , VCD , các máy PDA dùng cho cá_nhân và trên xe_hơi …
Để góp_phần cho sự phát_triển đó ngoài yếu_tố phần_cứng thì nền_tảng phần_mềm là nhân_tố quyết_định vì chúng_ta đã biết , có hàng chục hãng sản_xuất điện_thoại khác_nhau và sử_dụng công_nghệ khác_nhau .
Làm_sao để các thiết_bị phần_cứng khác_nhau có_thể sử_dụng chung một nền_tảng phần_mềm ? Đây là nội_dung chúng_ta sẽ tìm_hiểu trong bài viết hôm_nay , đó là nền_tảng J2ME - Java 2 Platform , Micro_Edition .
Để có_thể hiểu rõ bài viết , độc_giả cần phải có kiến_thức Java cơ_bản
a . Lịch_sử : J2ME được phát_triển từ kiến_trúc Java_Card , Embeded_Java và Personal_Java của phiên_bản Java 1.1 . Đến sự ra_đời của Java 2 thì Sun quyết_định thay_thế Personal_Java và đươc gọi với tên mới là Java 2 Micro_Edition , hay viết tắt là J2ME . Đúng với tên gọi , J2ME là nền_tảng cho các thiết_bị có tính_chất nhỏ , gọn ( Micro có nghĩa_là nhỏ trong tiếng Anh ) . Xem hình bên
b . Lý_do chọn J2ME :
• Java ban_đầu được thiết_kế dành cho các máy với tài_nguyên bộ_nhớ hạn_chế .
• Thị_trường của J2ME được mở_rộng ra cho nhiều chủng_loại thiết_bị như :
1 . Các lọai thẻ cá_nhân như Java_Card
2 . Máy điện_thoại_di_động
3 . Máy PDA ( Personal_Digital_Assistant - thiết_bị trợ_giúp cá_nhân )
4 . Các hộp điều_khiển dành cho tivi , thiết_bị giải_trí gia_dụng …
I . Kiến_trúc J2ME : phần này sẽ trình_bày kiến_trúc tổng_quát toàn_bộ nền_tảng Java , để qua đó độc_giả có_thể thấy rõ hơn chiến_lược về Java của Sun
A . Giới_thiệu các thành_phần trong nền_tảng J2ME :
1 . Định_nghĩa về Configuration ( Cấu_hình ) : là đặc_tả định_nghĩa một môi_trường phần_mềm cho một dòng các thiết_bị được phân_loại bởi tập_hợp các đặc_tính , ví_dụ như :
• Kiểu và số_lượng bộ_nhớ
• Kiểu và tốc_độ bộ_vi_xử_lý
• Kiểu mạng kết_nối
Do đây là đặc_tả nên các nhà_sản_xuất thiết_bị như Samsung , Nokia … bắt_buộc phải thực_thi đầy_đủ các đặc_tả do Sun qui_định để các lập_trình_viên có_thể dựa vào môi_trường lập_trình nhất_quán và thông_qua sự nhất_quán này , các ứng_dụng được tạo ra có_thể mang tính độc_lập thiết_bị cao nhất có_thể .
Ví_dụ như một lập_trình_viên viết chương_trình game cho điện_thoại Samsung thì có_thể sửa_đổi chương_trình của mình một_cách tối_thiểu nhất để có_thể chạy trên điện_thọai Nokia .
Qua đây ta thấy khẩu_hiệu “ Write_Once , Run_Everywhere ” của Java đã không còn đúng nữa , nhưng ta cũng phải đánh_giá cao sự nổ lực của Sun trong việc tạo ra một môi_trường phần_mềm chung cho vô_số chủng_loại thiết_bị di_động có trên thị_trường .
Hiện_nay Sun đã đưa ra 2 dạng Configuration .
2 . CLDC ( Connected_Limited_Device_Configuration - Cấu_hình thiết_bị kết_nối giới_hạn ) : được thiết_kế để nhắm vào thị_trường các thiết_bị cấp thấp ( low-end ) , các thiết_bị này thông_thường là máy điện_thọai_di_động và PDA với khoảng 512 KB bộ_nhớ .
Vì tài_nguyên bộ_nhớ hạn_chế nên CLDC được gắn với Java không dây ( Java_Wireless ) , dạng như cho_phép người sử_dụng mua và tải về các ứng_dụng Java , ví_dụ như_là Midlet .
3 . CDC - Connected_Device_Configuration ( Cấu_hình thiết_bị kết_nối ) : CDC được đưa ra nhắm đến các thiết_bị có tính_năng mạnh hơn dòng thiết_bị thuộc CLDC nhưng vẫn yếu hơn các hệ_thống máy_để_bàn sử_dụng J2SE . Những thiết_bị này có nhiều bộ_nhớ hơn ( thông_thường là trên 2Mb ) và có bộ_xử_lý mạnh hơn . Các sản_phẩm này có_thể kể đến như các máy PDA cấp cao , điện_thoại web , các thiết_bị gia_dụng trong gia_đình …
Cả 2 dạng Cấu_hình kể trên đều chứa máy ảo Java ( Java_Virtual_Machine ) và tập_hợp các lớp ( class ) Java cơ_bản để cung_cấp một môi_trường cho các ứng_dụng J2ME . Tuy_nhiên , bạn chú_ý rằng đối_với các thiết_bị cấp thấp , do hạn_chế về tài_nguyên như bộ_nhớ và bộ_xử_lý nên không_thể yêu_cầu máy ảo hổ trợ tất_cả các tính_năng như với máy ảo của J2SE , ví_dụ , các thiết_bị thuộc CLDC không có phần_cứng yêu_cầu các phép tính_toán dấu_phẩy động , nên máy ảo thuộc CLDC không được yêu_cầu hỗ_trợ kiểu float và double .
Bảng so_sánh các thông_số kỹ_thuật của CDC và CLDC
Thông_số
CLDC
CDC
Ram
& gt ; = 32K , & lt ; = 512K
& gt ; = 256K
Rom
& gt ; = 128k , & lt ; = 512k
& gt ; = 512k
Nguồn_Năng_Lượng
Có giới_hạn ( nguồn pin )
Không giới_hạn
Network
Chậm
Nhanh
Để dễ hiểu hơn 2 khái_niệm CLDC và CDC , mời bạn_đọc xem hình bên .
B . Định_nghĩa về Profile : Profile mở_rộng Configuration bằng cách thêm vào các class để bổ_trợ các tính_năng cho từng thiết_bị chuyên_biệt . Cả 2 Configuration đều có những profile liên_quan và từ những profile này có_thể dùng các class lẫn nhau .
Đến đây ta có_thể nhận thấy do mỗi profile định_nghĩa một tập_hợp các class khác_nhau , nên thường ta không_thể chuyển một ứng_dụng Java viết cho một profile này và chạy trên một máy hỗ_trợ một profile khác . Cũng với lý_do đó , bạn không_thể lấy một ứng_dụng viết trên J2SE hay J2EE và chạy trên các máy hỗ_trợ J2ME . Chúng_ta sẽ điểm qua các profile tiêu_biểu :
1 . Mobile_Information_Device_Profile ( MIDP ) : profile này sẽ bổ_sung các tính_năng như hỗ_trợ kết_nối , các thành_phần hỗ_trợ giao_diện người dùng … vào CLDC . Profile này được thiết_kế chủ_yếu để nhắm vào điện_thọai_di_động với đặc_tính là màn_hình hiển_thị hạn_chế , dung_lượng chứa có_hạn . Do_đó MIDP sẽ cung_cấp một giao_diện người dùng đơn_giản và các tính_năng mạng đơn_giản dựa trên HTTP . Có_thể nói MIDP là profile nổi_tiếng nhất bởi_vì nó là kiến_thức cơ_bản cho lập_trình Java trên các máy di_động ( Wireless_Java ) .
2 . PDA Profile : tương_tự MIDP , nhưng với thị_trường là các máy PDA với màn_hình và bộ_nhớ lớn hơn .
3 . Foundation_Profile : cho_phép mở_rộng các tính_năng của CDC với phần_lớn các thư_viện của bộ Core_Java 2 1.3 .
Ngoài_ra còn có Personal_Basis_Profile , Personal_Profile , RMI Profile , Game_Profile .
Trong phạm_vi bài viết này , người viết chỉ đặt trọng_tâm vào MIDP vì mục_tiêu là tạo các chương_trình chạy trên điện_thọai_di_động .
C . Sơ_lược về MIDP :
1 . Định_nghĩa : Đây là Profile được định_nghĩa dành riêng cho các thiết_bị di_động và là thành_phần chính trong J2ME . MIDP cung_cấp các chức_năng cơ_bản cho hầu_hết các dòng thiêt bị di_động phổ_biến nhất như các máy_điện thoạ I di_động và các máy PDA .
Tuy_nhiên MIDP không phải là cây đũa thần cho mọi lập_trình_viên vì như chúng_ta đã biết , MIDP được thiết_kế cho các máy di_động có cấu_hình rất thấp . Trong phần sau tôi sẽ liệt_kê qua các tính_năng mà MIDP cung_cấp và những giới_hạn của nó .
2 . Những chức_năng MIDP không_thể làm được :
- Phép_tính dấu_phẩy động ( floating point ) : Phép_tính này đòi_hỏi rất nhiều tài_nguyên CPU và phần_lớn các CPU cho các thiết_bị di_động không hỗ_trợ phép_tính này , do_đó MIDP cũng không có .
- Bộ nạp class ( Class_Loader ) .
- Hỗ_trợ từ_khóa finalize ( ) như trong J2SE : Việc “ dọn_dẹp “ tài_nguyên trước khi nó bị xóa được đẩy về phía các lập_trình_viên .
- Không hỗ_trợ JNI .
- Hỗ_trợ hạn_chế thao_tác bắt lỗi .
- Phần_lớn các thư_viện API cho Swing và AWT không_thể sử_dụng được trong MIDP .
- Không hỗ_trợ các tính_năng quản_lý file và thư_mục : Đây có_thể làm_bạn ngạc_nhiên nhưng thực_tế là các thiết_bị J2ME không có hỗ_trợ các thiết_bị lưu_trữ thông_thường như ổ_cứng v . v .
Tuy_nhiên , điều đó không có nghĩa_là bạn phải mất đi mọi dữ_liệu quan_trọng mỗi khi tắt máy , Sun đã cung_cấp một chức_năng khác tương_đương gọi_là Record_Management system ( RMS ) để cung_cấp khả_năng lưu_trữ cho các thiết_bị này .
3 . Những chức_năng MIDP cung_cấp :
- Các lớp và kiểu dữ_liệu : Phần_lớn các lớp mà các lập_trình_viên Java quen_thuộc vẫn còn được giữ lại ví_dụ như các lớp trong gói java . util như Stack , Vector và Hastable cũng_như Enumeration .
Tuy_nhiên , mong bạn_đọc chú_ý là tôi nhấn_mạnh từ “ phần_lớn ” vì bạn không_thể dùng Iterator . Trong phần phụ_lục , tôi sẽ liệt_kê các gói ( package ) cũng_như số_lượng của chúng được hỗ_trợ trong môi_trường J2ME bao_gồm CLDC , CDC và MIDP .
- Hỗ_trợ đối_tượng Display : Đúng như tên gọi một chương_trình MIDP sẽ hỗ_trợ duy_nhất một đối_tượng Display là đối_tượng quản_lý việc hiển_thị dữ_liệu trên màn_hình điện_thoại .
- Hỗ_trợ Form và các giao_diện người dùng .
- Hỗ_trợ Timer và Alert .
- Cung_cấp tính_năng Record_Management_System ( RMS ) cho việc lưu_trữ dữ_liệu .
Ngoài_ra vào tháng 11 năm 2003 Sun đã tung ra MIDP 2.0 với hàng_loạt tính_năng khác được cung_cấp thêm so vớ I bản 1.0 ( Hiện_nay tại Việt_Nam đã có những đời điện_thoại hỗ_trợ MIDP 2.0 ví_dụ như Nokia 6600 hay Sony_Ericsson P900 ) . Tôi xin trình_bày các cải_tiến nổi_bật so với MIDP 1.0 :
1 . Nâng_cấp các tính_năng bảo_mật như :
a . Download qua mạng an_toàn hơn qua việc hỗ_trợ giao_thức HTTPS .
b . Kiểm_soát việc kết nố I giữa máy di_động và server : ví_dụ như các chương_trình không_thể kết_nối tới server nếu thiếu sự chấp_thuận của ngườ I sử_dụng .
2 . Thêm các API hỗ_trợ Multimedia . Một trong nhưng cải_tiến hấp_dẫn nhất của MIDP 2.0 là tập các API media của nó . Các API này là một tập con chỉ hỗ_trợ âm_thanh của Mobile_Media API ( MMAPI ) .
3 . Mở_rộng các tính_năng của Form . Nhiều cải_tiến đã được đưa vào API javax.microedition.lcdui trong MIDP 2.0 , nhưng các thay_đổi lớn nhất ( ngoài API cho game ) là trong Form và Item .
4 . Hỗ_trợ các lập_trình_viên Game bằng cách tung ra Game API : Có_lẽ Sun đã kịp nhận ra thị_trường đầy tiềm_năng của các thiết_bị di_động trong lĩnh_vực Game . Với MIDP 1.0 thì các lập_trình_viên phải tự mình viết code để quản_lý các hành_động của nhân_vật cũng_như quản_lý đồ_họa .
Việc này sẽ làm tăng kích_thước file của sản_phẩm cũng_như việc xuất_hiện các đoạn mã bị lỗi . Được hưởng lợi nhất từ Game API trong MIDP 2.0 không_chỉ là các lập_trình_viên Game mà_còn là các lập_trình_viên cần sử_dụng các tính_năng đồ_họa cao_cấp .
Ý_tưởng cơ_bản của Game API là việc giả_định rằng một màn_hình game là tập_hợp các layer ( lớp ) . Ví_dụ như : trong một game đua xe thì màn_hình nền là một layer , con đường là một layer và chiếc xe được xem như đang nằm trên layer khác .
Với_Game API nhà_phát_triển còn được cung_cấp các tính_năng như quản_lý các thao_tác bàn_phím .
5 . Hỗ_trợ kiểu ảnh RGB : một trong những cải_tiến hấp_dẫn cho các nhà_phát_triển MIDP là việc biểu_diễn hình_ảnh dưới dạng các mảng số_nguyên , cho_phép MIDlet thao_tác với dữ_liệu hình_ảnh một_cách trực_tiếp .
( Còn tiếp )
NGUYỄN_HỮU_MAI ( www.JavaVietnam.org )
